<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- link css -->
  <link rel="stylesheet" href="style1.css">
  <!-- <link rel="stylesheet" href="css/normalize.css"> -->

  <!-- google font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,500;0,600;0,700;1,300&display=swap" rel="stylesheet">
  <title>Depronto</title>
  
</head>

<body>
  <div class="w3-content w3-display-container" style="max-width:1900px" >
  <img class="mySlides" src="shop1.jpg" style="width:100%" >
  <img class="mySlides" src="shop2.jpg" style="width:100%">
  <img class="mySlides" src="shop3.jpg" style="width:100%">
  <img class="mySlides" src="shop2.jpg" style="width:100%">

</div>


  <div class="container">
    <div class="cards" id="cards">
      
      
     
    </div>

  </div>
  
  <!-- <p id="demo"></p>
<div id="loading">Loading</div>
<table id="loaded">

</table> -->
  <script>
// document.getElementById("demo").innerHTML = "Hello World!";
const api_url ="https://fakestoreapi.com/products";

// Defining async function
async function getapi(url) {
    
    // Storing response
    const response = await fetch(url);
    
    // Storing data in form of JSON
    var data = await response.json();
    console.log(data);
    if (response) {
        // hideloader();
    }
    show(data);
}
// Calling that async function
getapi(api_url);

// Function to hide the loader
// function hideloader() {
//     document.getElementById('loading').style.display = 'none';
// }
// Function to define innerHTML for HTML table
function show(data) {
  // 
    // let tab =
    //     `<tr>
    //     <th>id</th>
    //     <th>title</th>
    //     <th>price</th>
    //     <th>description</th>
    //     <th>category</th>
    //     <th>image</th>
    //     <th>rating</th>
    //     <th>count</th>
    //     </tr>`;
    
    // Loop to access all rows
    let tab;
    for (let i=0;i<data.length;i++) {
        console.log(data[i]['id'])
      tab+=`<section class="card">
        <figure>
          <div class="img-overlay">
            <img src=${data[i]['image']} alt="Trulli">
            <div class="overlay"><a href="product1.html" >view Product</a></div>
            <div class="cont">
              <div class="icons-img">
                <button><i class="fas fa-heart"></i></button>
                <button><i class="fas fa-share"></i></button>
              </div>
            </div>

          </div>
          <figcaption>${data[i]['title']}</figcaption>
        </figure>
        <div class="card-content">

          <p>${data[i]['description']}</p>

          <section class="icons-home">
            <div class="name-icon">
              <span>category</span>
              <div class="icon">
                <i class="fas fa-bed"></i>
                <span>${data[i]['category']}</span>
              </div>
            </div>
            <div class="name-icon">
              <span>rate</span>
              <div class="icon">
                <i class="fas fa-sink"></i>
                <span>${data[i]['rating']['rate']}</span>
              </div>
            </div>
            <div class="name-icon">
              <span>count</span>
              <div class="icon">
                <i class="fas fa-vector-square"></i>
                <span>${data[i]['rating']['count']}</span>

                

              </div>
            </div>
          </section>
      </section>`
        // tab += `<tr>
        //     <td>${data[i]['id']} </td>
        //     <td>${data[i]['title']}</td>
        //     <td>${data[i]['description']}</td>
        //     <td>${data[i]['category']}</td>   
        //     <td>${data[i]['image']}</td>
        //     <td>${data[i]['rate']}</td>
        //     <td>${data[i]['count']}</td>      
        // </tr>`;
    }
    // Setting innerHTML as tab variable
    document.getElementById("cards").innerHTML = tab;
}
var myIndex = 0;
carousel();

function carousel() {
  var i;
  var x = document.getElementsByClassName("mySlides");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";  
  }
  myIndex++;
  if (myIndex > x.length) {myIndex = 1}    
  x[myIndex-1].style.display = "block";  
  setTimeout(carousel, 2000); // Change image every 2 seconds
}
</script>
</body>

</html>
